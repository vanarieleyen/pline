(function() {
  var file, filter, scriptLoader;

  file = require('file');

  filter = require('./helpers/filter');

  scriptLoader = {
    get: function(path, options) {
      var tasks;
      if (options == null) {
        options = {};
      }
      tasks = [];
      file.walkSync(path, function(dir, b, files, d) {
        var _i, _len, _results;
        if (files && files.length) {
          _results = [];
          for (_i = 0, _len = files.length; _i < _len; _i++) {
            file = files[_i];
            if (filter(file, options.endings)) {
              _results.push(tasks.push(dir + '/' + file));
            } else {
              _results.push(void 0);
            }
          }
          return _results;
        }
      });
      return tasks;
    },
    load: function(path, options) {
      var task, tasks, verbose, _i, _len, _results;
      if (options == null) {
        options = {};
      }
      verbose = options.verbose && options.verbose === true ? true : false;
      tasks = scriptLoader.get(path, options);
      _results = [];
      for (_i = 0, _len = tasks.length; _i < _len; _i++) {
        task = tasks[_i];
        if (verbose) {
          console.log("Load script " + task);
        }
        _results.push(require(task));
      }
      return _results;
    }
  };

  module.exports = scriptLoader;

}).call(this);
